
LIBS = \
	C:Clib.o.stubs\
	MemCheck:o.MC\
	HierProf:o.hp\
	C:oslib.o.oslib\
	C:AJWLib.o.AJWLib\
	C:Desk.o.Desk

#MEMCHECK	=	MemCheck.cc
#HEIRPROF	=	-DHierProf_PROFILE

INCLUDE	=	C:

#CCFLAGS		=	$(CCEXTRA) -throwback -strict -depend !Depend -g -I$(INCLUDE) $(HEIRPROF) -fah
CCFLAGS		=	$(CCEXTRA) -throwback -strict -Otime -depend !Depend -I$(INCLUDE) $(HEIRPROF) -fah
LINKFLAGS	=	$(LINKEXTRA) -d

CC		=	$(MEMCHECK) cc -c $(CCFLAGS)
LINK		=	DrLink $(LINKFLAGS)


!RunImage: Main.o
	$(LINK) -o $@ Main.o $(LIBS)

.c.o:
	$(CC) $< -o $@


# Dynamic dependencies:
o.Main:	c.Main
o.Main:	MemCheck:h.MemCheck
o.Main:	HierProf:h.HierProf
o.Main:	C:oslib.h.osgbpb
o.Main:	C:oslib.h.types
o.Main:	C:oslib.h.os
o.Main:	C:oslib.h.fileswitch
o.Main:	C:oslib.h.osfscontrol
o.Main:	C:oslib.h.fileraction
o.Main:	C:oslib.h.wimp
o.Main:	C:oslib.h.osspriteop
o.Main:	C:oslib.h.font
o.Main:	C:Desk.h.Window
o.Main:	C:Desk.h.Wimp
o.Main:	C:Desk.h.Core
o.Main:	C:h.kernel
o.Main:	C:Desk.h.WimpSWIs
o.Main:	C:Desk.h.Error2
o.Main:	C:Desk.h.Error
o.Main:	C:Desk.h.JumpRaw
o.Main:	C:Desk.h.Debug
o.Main:	C:Desk.h.Pointer
o.Main:	C:Desk.h.Icon
o.Main:	C:Desk.h.DragASpr
o.Main:	C:Desk.h.Coord
o.Main:	C:Desk.h.Core
o.Main:	C:Desk.h.Error2
o.Main:	C:Desk.h.Event
o.Main:	C:Desk.h.EventMsg
o.Main:	C:Desk.h.Handler
o.Main:	C:Desk.h.Hourglass
o.Main:	C:Desk.h.Icon
o.Main:	C:Desk.h.Menu
o.Main:	C:Desk.h.Msgs
o.Main:	C:Desk.h.Filing
o.Main:	C:Desk.h.DeskMem
o.Main:	C:Desk.h.Resource
o.Main:	C:Desk.h.Sprite
o.Main:	C:Desk.h.Screen
o.Main:	C:Desk.h.Template
o.Main:	C:Desk.h.LinkList
o.Main:	C:Desk.h.Str
o.Main:	C:Desk.h.File
o.Main:	C:Desk.h.SWI
o.Main:	C:Desk.h.Sprite
o.Main:	C:AJWLib.h.Window
o.Main:	C:Desk.h.Sprite
o.Main:	C:AJWLib.h.Menu
o.Main:	C:AJWLib.h.Msgs
o.Main:	C:Desk.h.Window
o.Main:	C:Desk.h.Icon
o.Main:	C:AJWLib.h.Error2
